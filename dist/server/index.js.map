{"version":3,"sources":["webpack:///webpack/bootstrap e36ccb975c01c543e5eb","webpack:///external \"webpack\"","webpack:///./settings.js","webpack:///./src/server/index.js","webpack:///./src/server/server.js","webpack:///external \"express\"","webpack:///external \"morgan\"","webpack:///external \"cors\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"ejs\"","webpack:///./webpack.frontend.js","webpack:///external \"path\"","webpack:///./package.json","webpack:///external \"babel-polyfill\""],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA,oC;;;;;;;;;ACAA,IAAM,cAAc,oBAAQ;;AAE5B,IAAM,WAAW,CAAC,QAAQ,IAAI,aAAa,QAAQ,IAAI,aAAa,gBAAgB,QAAQ,IAAI,aAAa;AAC7G,IAAM,cAAc,QAAQ,IAAI,eAAe;AAC/C,IAAM,gBAAgB,QAAQ,IAAI,iBAAiB;;AAEnD,IAAM,WAAW,CAAC,WAAc,kCAAkC,YAAlE;;AAEA,IAAM;YAEJ;eACA;YAAU,YACV;eACA;mBAAiB,YACjB;cAAY,YACZ;YAAa,YAAY,aACzB;YACA;iBAAe;AARf;;AAWF,OAAO,UAAU,S;;;;;;;;;;ACfjB;;;;;;;;AALA;AACA,IAAI,CAAC,OAAO,gBACV;sBACD;;;AAGD;;AAEA,wB;;;;;;;;;ACRA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAJ+B;AAM/B,IAAM,WAAc,Y,UALuC;;AAM3D,IAAM,aAAN;AACA,IAAM,WAAW,iCAAjB;;AAEA,OAAO,UAAU,YACf;MAAM,SAAS,cAEf;;mBAAO,MAAM,QAAQ;WAAO,CAAC,IAAI,QAAQ,iBAAiB,IAAI,OAAO,GAAG;AACxE;SAAO;YAKP;AAHI,GADF;SAIK,IAAI,gCAEX;;SAAO,wCAAyB;gBAClB,kBAAe,OAE7B;AAFE,GADS;SAGJ,OAAO,QAAQ,cACtB;SAAO,IAAI,eACX;SAAO,IAAI,SAEX;;SAAO,IAAI,WAAW,UAAC,KAAK,KAAN;WAAc,IAAI,WAAW;AAEnD;;SAAO,IAAI,aAAa,UAAC,KAAK,KAC5B;QAAM,WAAW,IAAI,OACrB;QAAI,SAAY,mBAAc,UAAY,EAAE,MAC7C;AAED;;SAAO,IAAI,KAAK,UAAC,KAAK,KACpB;QAAI,OAAO,SAAS,EAAE,oBAAF,UAAY,oBACjC;AAED;;SAAO,8BAEL;WAAM,QAAQ,yDAAd;AAFF,IAID;;AAjCD,E;;;;;;;ACbA,oC;;;;;;ACAA,mC;;;;;;ACAA,iC;;;;;;ACAA,mD;;;;;;ACAA,gC;;;;;;;;;ACAA,IAAM,UAAU,oBAAQ;AACxB,IAAM,OAAO,oBAAQ;;eACA,oB;;;AAErB,IAAM;SACG,CACP;;UACQ,YACN;gBACA;cAAa,WAGf;AALE;;gBAMI,QAAQ;;gBAEE,KAAK,UAAU,QAAQ,IACjC;mBAAa,KAAK,UAAU,QAAQ,IACpC;qBAAe,KAAK,UAAU,QAAQ,IACtC;2BAAqB,KAAK,UAAU,QAAQ,IAKlD;AARM;AADF,GADF,CADO;;UAaT;;;aACW,CAAC,gBAAgB,eAC1B;gBAAY,CAAC,OAAO,QAGtB;AAJE;;;aAKS,CAAC,EAAE,MAAM,iBAAiB,SAAS,gBAAgB,SAAS,CACrE;;YAGI;eACA;WAAK,CAAC;AAFN,KAFG;AADP;AA1BF;;AAqCF,OAAO,UAAU,S;;;;;;;AC1CjB,iC;;;;;;ACAA,kBAAkB,mHAAmH,2cAA2c,sBAAsB,6BAA6B,iBAAiB,mdAAmd,oBAAoB,otB;;;;;;ACA3nC,2C","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e36ccb975c01c543e5eb","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 0\n// module chunks = 0","const packageJSON = require('./package.json');\n\nconst DEV_MODE = !process.env.NODE_ENV && (process.env.NODE_ENV !== 'production' || process.env.NODE_ENV !== 'staging');\nconst SERVER_PORT = process.env.SERVER_PORT || 4040;\nconst BUILD_VERSION = process.env.BUILD_VERSION || 'local';\n\nconst DATA_DIR = !DEV_MODE ? `${__dirname}/dist/client/data` : `${__dirname}/src/ui/data`;\n\nconst settings = {\n  DEV_MODE,\n  SERVER_PORT,\n  APP_NAME: packageJSON.name,\n  APP_VERSION: BUILD_VERSION,\n  APP_DESCRIPTION: packageJSON.description,\n  APP_AUTHOR: packageJSON.author,\n  CLIENTJS: `${packageJSON.name}-${BUILD_VERSION}`,\n  DATA_DIR,\n  MORGAN_FORMAT: ':date[iso] :status :method :url {Authorization: :auth...} - :response-time ms'\n};\n\nmodule.exports = settings;\n\n\n\n// WEBPACK FOOTER //\n// ./settings.js","/* eslint-disable */\nif (!global._babelPolyfill) {\n  require('babel-polyfill');\n}\n\nimport server from './server.js';\n/* eslint-enable */\n\nserver();\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/index.js","import express from 'express';\nimport morgan from 'morgan';\nimport cors from 'cors';\nimport webpack from 'webpack'; // eslint-disable-line import/no-extraneous-dependencies\nimport webpackDevMiddleware from 'webpack-dev-middleware'; // eslint-disable-line import/no-extraneous-dependencies\nimport ejs from 'ejs';\nimport frontendConfig from '../../webpack.frontend';\nimport { APP_NAME, SERVER_PORT, MORGAN_FORMAT, CLIENTJS } from '../../settings';\n\nconst VIEW_DIR = `${__dirname}/../ui`;\nconst IMAGES_DIR = `/images`;\nconst compiler = webpack(frontendConfig);\n\nmodule.exports = () => {\n  const server = express();\n\n  morgan.token('auth', req => (req.headers.authorization || '').substr(0, 10));\n  server.use(\n    cors({\n      origin: '*'\n    })\n  );\n  server.use(morgan(MORGAN_FORMAT));\n\n  server.use(webpackDevMiddleware(compiler, {\n    publicPath: frontendConfig.output.publicPath\n  }));\n  server.engine(\"html\", ejs.renderFile);\n  server.set(\"view engine\", \"html\");\n  server.set(\"views\", VIEW_DIR);\n\n  server.get('/health', (req, res) => res.sendStatus(200));\n\n  server.get(\"/images/*\", (req, res) => {\n    const fileName = req.params[0];\n    res.sendFile(`${IMAGES_DIR}/${fileName}`, { root: VIEW_DIR });\n  });\n\n  server.get(\"*\", (req, res) => {\n    res.render(\"index\", { CLIENTJS, APP_NAME });\n  });\n\n  server.listen(\n    SERVER_PORT,\n    () => console.log(`${APP_NAME} running on port ${SERVER_PORT}`) // eslint-disable-line no-console\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/server.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"morgan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morgan\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cors\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"webpack-dev-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-dev-middleware\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"ejs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ejs\"\n// module id = 8\n// module chunks = 0","const webpack = require('webpack');\nconst path = require('path');\nconst { CLIENTJS } = require('./settings.js');\n\nconst wbConfig = {\n  entry: ['./src/ui/index.jsx'],\n  output: {\n    path: __dirname + '/dist/client',\n    publicPath: '/assets',\n    filename: `${CLIENTJS}.js`\n  },\n\n  plugins: [\n    new webpack.DefinePlugin({\n      'process.env': {\n        NODE_ENV: JSON.stringify(process.env.NODE_ENV),\n        SERVER_PORT: JSON.stringify(process.env.SERVER_PORT),\n        BUILD_VERSION: JSON.stringify(process.env.BUILD_VERSION),\n        CLUSTER_MANAGER_API: JSON.stringify(process.env.CLUSTER_MANAGER_API)\n      }\n    })\n  ],\n\n  target: 'web',\n\n  resolve: {\n    modules: ['node_modules', 'src/ui/**/*', './'],\n    extensions: ['.js', '.jsx', '.json']\n  },\n\n  module: {\n    loaders: [{ test: /\\.(js?|jsx?)$/, exclude: /node_modules/, loaders: ['babel-loader'] }],\n    rules: [\n      {\n        test: /\\.(js|jsx)$/,\n        exclude: /node_modules/,\n        use: ['babel-loader']\n      }\n    ]\n  }\n};\n\nmodule.exports = wbConfig;\n\n\n\n// WEBPACK FOOTER //\n// ./webpack.frontend.js","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 10\n// module chunks = 0","module.exports = {\"private\":true,\"name\":\"zourney\",\"version\":\"0.1.0\",\"description\":\"zourney\",\"main\":\"dist/server/index.js\",\"scripts\":{\"start-server\":\"node ./dist/server/index.js\",\"dev\":\"gulp run\",\"build\":\"gulp build\",\"lint\":\"eslint . --ext .js --ext .jsx\",\"unit-test\":\"mocha --compilers js:babel-register --require ./test/helpers.js --require ./test/dom.js --recursive 'src/**/*.spec.js?(x)'\",\"integration-test\":\"mocha --compilers js:babel-register --require ./test/helpers.js --require ./test/dom.js --recursive 'test/**/*.spec.js?(x)'\",\"test\":\"npm run unit-test && npm run integration-test\"},\"author\":\"\",\"babel\":{\"presets\":[\"es2015\",\"react\"]},\"dependencies\":{\"compression\":\"1.7.1\",\"cors\":\"2.8.4\",\"ejs\":\"2.5.7\",\"express\":\"4.16.2\",\"lodash\":\"4.17.5\",\"markdown\":\"0.5.0\",\"morgan\":\"1.9.0\",\"prop-types\":\"15.6.0\",\"react\":\"16.2.0\",\"react-document-title\":\"2.0.3\",\"react-dom\":\"16.2.0\",\"react-ga\":\"2.4.1\",\"react-redux\":\"5.0.6\",\"react-resize-detector\":\"2.2.0\",\"react-router\":\"4.2.0\",\"react-router-dom\":\"4.2.2\",\"redux\":\"3.7.2\",\"redux-immutable-state-invariant\":\"2.1.0\",\"redux-thunk\":\"2.2.0\",\"styled-components\":\"3.1.6\",\"superagent\":\"3.8.2\"},\"devDependencies\":{\"babel-core\":\"6.26.0\",\"babel-eslint\":\"8.2.1\",\"babel-loader\":\"7.1.2\",\"babel-polyfill\":\"6.26.0\",\"babel-preset-es2015\":\"6.24.1\",\"babel-preset-react\":\"6.24.1\",\"chai\":\"4.1.2\",\"enzyme\":\"3.3.0\",\"enzyme-adapter-react-16\":\"1.1.1\",\"eslint\":\"4.17.0\",\"eslint-config-airbnb\":\"16.1.0\",\"eslint-config-prettier\":\"2.9.0\",\"eslint-loader\":\"1.9.0\",\"eslint-plugin-chai-friendly\":\"0.4.1\",\"eslint-plugin-import\":\"2.8.0\",\"eslint-plugin-jsx-a11y\":\"6.0.3\",\"eslint-plugin-prettier\":\"2.6.0\",\"eslint-plugin-react\":\"7.6.1\",\"gulp\":\"3.9.1\",\"jsdom\":\"11.6.2\",\"lint-staged\":\"6.1.0\",\"mocha\":\"5.0.0\",\"mocha-param\":\"1.0.2\",\"nodemon\":\"1.14.12\",\"prettier\":\"1.10.2\",\"sinon\":\"4.3.0\",\"webpack\":\"3.10.0\",\"webpack-dev-middleware\":\"2.0.5\",\"webpack-dev-server\":\"2.11.1\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 11\n// module chunks = 0","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 12\n// module chunks = 0"],"sourceRoot":""}